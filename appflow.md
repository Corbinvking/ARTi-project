flowchart LR subgraph Client["User Browser"] UI["Next.js (Vercel)"] end subgraph API["Backend API (DO • Docker • Node)"] GW[/REST/tRPC/] WB[/Incoming /webhooks/*/] end subgraph DB["Supabase (Postgres • RLS • pgvector)"] AUTH[(Auth)] DATA[(Core Tables)] VEC[(Embeddings)] end subgraph JOBS["Workers (Node • BullMQ • Redis)"] CRON[Cron Schedules] Q[(Redis Queue)] SYNC[Metrics Sync] INS[LLM Insights] SCR[Scraper Stub] end subgraph AUTO["n8n Automations"] N8N[n8n flows] end subgraph EXT["External Providers"] SP[Spotify API] IG[Instagram API] SC[SoundCloud API] YT[YouTube API] SLK[Slack] MAIL[Email/SMS] LLMAPI[LLM Provider] end UI -- Supabase Auth --> AUTH UI -- JWT HTTPS --> GW GW -- service key --> DATA GW -- read vec --> VEC WB <-- events --> GW GW <--> N8N CRON --> SYNC CRON --> INS CRON --> SCR SYNC -- fetch KPIs --> SP SYNC -- write KPIs --> DATA INS -- vec search --> VEC INS -- LLM call --> LLMAPI INS -- save insight --> DATA GW -- webhook: insight.created --> N8N N8N -- notify --> SLK N8N -- outbound --> MAIL